<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                width="762" height="3140">
                
            <g>
                <rect x="50" y="80"
            width="284" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="60" y1="80" x2="60" y2="110"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="324" y1="80" x2="324" y2="110"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function tradeCommodity(trade)</title>
            <text x="75" y="100"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="75" y="100">function tradeCommodity(trade)</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="87" y="128.5"
            width="318.59999999999997" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>var symbol = trade.line.tradingSymbol</title>
            <text x="102" y="148.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="102" y="148.5">var symbol = trade.line.tradingSymbol</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="87" y="177"
            width="264" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>var cost = trade.line.quantity</title>
            <text x="102" y="197"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="102" y="197">var cost = trade.line.quantity</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="87" y="225.5"
            width="256.2" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>var exchange = trade.exchange</title>
            <text x="102" y="245.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="102" y="245.5">var exchange = trade.exchange</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="87" y="274"
            width="225" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>var trader = trade.trader</title>
            <text x="102" y="294"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="102" y="294">var trader = trade.trader</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="87" y="322.5"
            width="256.2" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>var exchange = trade.exchange</title>
            <text x="102" y="342.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="102" y="342.5">var exchange = trade.exchange</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="87" y="371"
            width="303" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>var brokage = trade.trader.employer</title>
            <text x="102" y="391"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="102" y="391">var brokage = trade.trader.employer</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="87" y="419.5"
            width="193.79999999999998" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>var regisitries = {*}</title>
            <text x="102" y="439.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="102" y="439.5">var regisitries = {*}</tspan>
            </text>
                   
                   
                </g>
            <g>
                <rect x="87" y="468"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="530.4" y1="478" x2="535.4" y2="478"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="530.4" y1="488" x2="535.4" y2="488"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M535.4, 472 L551.4, 483 L535.4, 494 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return getAssetRegistry(&apos;ampretia.mtn.CommodityHolding&apos;).then(function (result) {
  regisitries[&apos;ampretia.mtn.CommodityHolding&apos;] = result;
  return getAssetRegistry(&apos;ampretia.mtn.CommodityListing&apos;);
}).then(function (result) {
  regisitries[&apos;ampretia.mtn.CommodityListing&apos;] = result;
  return getAssetRegistry(&apos;ampretia.mtn.Exchange&apos;);
}).then(function (result) {
  regisitries[&apos;ampretia.mtn.Exchange&apos;] = result;
  return getAssetRegistry(&apos;ampretia.mtn.Brokage&apos;);
}).then(function (result) {
  regisitries[&apos;ampretia.mtn.Brokage&apos;] = result;
  return getParticipantRegistry(&apos;ampretia.mtn.Trader&apos;);
}).then(function (result) {
  regisitries[&apos;ampretia.mtn.Trader&apos;] = result; // need to see if the exchange has the commodity listed,

  var possibleListings = exchange.listedCommodities.filter(function (e) {
    // look for listings that match the requested symbol
    return e.commodity.tradingSymbol === symbol &amp;&amp; e.quantity &gt;= trade.line.quantity;
  });

  if (!possibleListings) {
    throw new Error(&apos;Commodity is not currently listed for trade&apos;);
  } // find a suitable listing... asserting that the purchase has to come from
  // only one listing  and is the price acceptable
  // TODO


  listing = possibleListings[0];
  newHolding = getFactory().newResource(&apos;ampretia.mtn&apos;, &apos;CommodityHolding&apos;, trade.mytradeid);
  newHolding.commodity = listing.commodity;
  newHolding.quantity = trade.line.quantity;
  newHolding.purchasePrice = listing.offerPrice;
  newHolding.tradedBy = trader;
  listing.quantity -= trade.line.quantity;

  if (listing.offerPrice * trade.line.quantity &gt; trader.fundLimit) {
    // TODO emit event
    throw new Error(&apos;You can not afford that&apos;);
  }

  trader.fundLimit -= listing.offerPrice * trade.line.quantity; // TODO if zero need to remove listing.

  brokage.portfolio.push(newHolding);
}).then(function () {
  // put the assets back
  return regisitries[&apos;ampretia.mtn.CommodityHolding&apos;].add(newHolding);
}).then(function () {
  // put the assets back
  return regisitries[&apos;ampretia.mtn.CommodityListing&apos;].update(listing);
}).then(function () {
  return regisitries[&apos;ampretia.mtn.Brokage&apos;].update(brokage);
}).then(function () {
  return regisitries[&apos;ampretia.mtn.Exchange&apos;].update(exchange);
}).then(function () {
  return regisitries[&apos;ampretia.mtn.Trader&apos;].update(trader);
}).then(function () {// var url = &quot;https://hooks.slack.com/services/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&quot;;
  // return post(url, listing);
})</title>
            <text x="102" y="488"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="102" y="488">return getAssetRegistry(&apos;ampretia.mtn.CommodityHol...</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="124" y="516.5"
            width="412.2" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>getAssetRegistry(&apos;ampretia.mtn.CommodityHolding&apos;)</title>
            <text x="139" y="536.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="536.5">getAssetRegistry(&apos;ampretia.mtn.CommodityHolding&apos;)</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="124" y="565"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="585"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="585">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="589" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="613.5"
            width="174.8" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="613.5" x2="171" y2="643.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="325.8" y1="613.5" x2="325.8" y2="643.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function(result)</title>
            <text x="186" y="633.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="633.5">function(result)</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="198" y="662"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>regisitries[&apos;ampretia.mtn.CommodityHolding&apos;] = result</title>
            <text x="213" y="682"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="682">regisitries[&apos;ampretia.mtn.CommodityHolding&apos;] = res...</tspan>
            </text>
                   
                   
                </g>
            <g>
                <rect x="198" y="710.5"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="720.5" x2="646.4" y2="720.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="730.5" x2="646.4" y2="730.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M646.4, 714.5 L662.4, 725.5 L646.4, 736.5 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return getAssetRegistry(&apos;ampretia.mtn.CommodityListing&apos;)</title>
            <text x="213" y="730.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="730.5">return getAssetRegistry(&apos;ampretia.mtn.CommodityLis...</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="124" y="759"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="779"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="779">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="783" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="807.5"
            width="174.8" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="807.5" x2="171" y2="837.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="325.8" y1="807.5" x2="325.8" y2="837.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function(result)</title>
            <text x="186" y="827.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="827.5">function(result)</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="198" y="856"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>regisitries[&apos;ampretia.mtn.CommodityListing&apos;] = result</title>
            <text x="213" y="876"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="876">regisitries[&apos;ampretia.mtn.CommodityListing&apos;] = res...</tspan>
            </text>
                   
                   
                </g>
            <g>
                <rect x="198" y="904.5"
            width="404.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="602.4" y1="914.5" x2="607.4" y2="914.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="602.4" y1="924.5" x2="607.4" y2="924.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M607.4, 908.5 L623.4, 919.5 L607.4, 930.5 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return getAssetRegistry(&apos;ampretia.mtn.Exchange&apos;)</title>
            <text x="213" y="924.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="924.5">return getAssetRegistry(&apos;ampretia.mtn.Exchange&apos;)</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="124" y="953"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="973"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="973">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="977" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="1001.5"
            width="174.8" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="1001.5" x2="171" y2="1031.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="325.8" y1="1001.5" x2="325.8" y2="1031.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function(result)</title>
            <text x="186" y="1021.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="1021.5">function(result)</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="198" y="1050"
            width="381" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>regisitries[&apos;ampretia.mtn.Exchange&apos;] = result</title>
            <text x="213" y="1070"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1070">regisitries[&apos;ampretia.mtn.Exchange&apos;] = result</tspan>
            </text>
                   
                   
                </g>
            <g>
                <rect x="198" y="1098.5"
            width="396.59999999999997" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="594.5999999999999" y1="1108.5" x2="599.5999999999999" y2="1108.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="594.5999999999999" y1="1118.5" x2="599.5999999999999" y2="1118.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M599.5999999999999, 1102.5 L615.5999999999999, 1113.5 L599.5999999999999, 1124.5 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return getAssetRegistry(&apos;ampretia.mtn.Brokage&apos;)</title>
            <text x="213" y="1118.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1118.5">return getAssetRegistry(&apos;ampretia.mtn.Brokage&apos;)</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="124" y="1147"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="1167"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="1167">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="1171" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="1195.5"
            width="174.8" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="1195.5" x2="171" y2="1225.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="325.8" y1="1195.5" x2="325.8" y2="1225.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function(result)</title>
            <text x="186" y="1215.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="1215.5">function(result)</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="198" y="1244"
            width="373.2" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>regisitries[&apos;ampretia.mtn.Brokage&apos;] = result</title>
            <text x="213" y="1264"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1264">regisitries[&apos;ampretia.mtn.Brokage&apos;] = result</tspan>
            </text>
                   
                   
                </g>
            <g>
                <rect x="198" y="1292.5"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="1302.5" x2="646.4" y2="1302.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="1312.5" x2="646.4" y2="1312.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M646.4, 1296.5 L662.4, 1307.5 L646.4, 1318.5 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return getParticipantRegistry(&apos;ampretia.mtn.Trader&apos;)</title>
            <text x="213" y="1312.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1312.5">return getParticipantRegistry(&apos;ampretia.mtn.Trader...</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="124" y="1341"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="1361"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="1361">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="1365" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="1389.5"
            width="174.8" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="1389.5" x2="171" y2="1419.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="325.8" y1="1389.5" x2="325.8" y2="1419.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function(result)</title>
            <text x="186" y="1409.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="1409.5">function(result)</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="198" y="1438"
            width="365.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>regisitries[&apos;ampretia.mtn.Trader&apos;] = result</title>
            <text x="213" y="1458"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1458">regisitries[&apos;ampretia.mtn.Trader&apos;] = result</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="1486.5"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>var possibleListings = exchange.listedCommodities.filter(*())</title>
            <text x="213" y="1506.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1506.5">var possibleListings = exchange.listedCommodities....</tspan>
            </text>
                   
                   
                </g>
            <g>
                <rect x="235" y="1535"
            width="135.8" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="245" y1="1535" x2="245" y2="1565"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="360.8" y1="1535" x2="360.8" y2="1565"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function(e)</title>
            <text x="260" y="1555"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="260" y="1555">function(e)</tspan>
            </text>
                
            </g>
            <g>
                <rect x="272" y="1583.5"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="715.4" y1="1593.5" x2="720.4" y2="1593.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="715.4" y1="1603.5" x2="720.4" y2="1603.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M720.4, 1587.5 L736.4, 1598.5 L720.4, 1609.5 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return e.commodity.tradingSymbol === symbol &amp;&amp; e.quantity &gt;= trade.line.quantity</title>
            <text x="287" y="1603.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="287" y="1603.5">return e.commodity.tradingSymbol === symbol &amp;&amp; e.q...</tspan>
            </text>
                
            </g><g>
            <rect x="228" y="1647"
            width="208.2" height="30"
            rx="3" ry="3"
            style="fill:#ce93d8; stroke:#444; stroke-width:1" />                
            <polygon points="198,1662 228,1632 258,1662 228,1692"
            style="fill:#ce93d8; stroke:#444; stroke-width:1" />
            <title>(!possibleListings)</title>
            <text x="273" y="1667"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="273" y="1667">(!possibleListings)</tspan>
            </text>
            
            <text x="220.2" y="1667"
        font-family="monospace" font-size="13" fill="#222">if</text> <text x="235.8" y="1693.95"
        font-family="monospace" font-size="13" fill="#222">+</text> 
        </g>
                <g>
                   <rect x="248" y="1702"
            width="443.4" height="30"
            rx="2" ry="2"
            style="fill:#ef9a9a; stroke:#444; stroke-width:1" />
                   <title>throw new Error(&apos;Commodity is not currently listed for trade&apos;)</title>
            <text x="263" y="1722"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="263" y="1722">throw new Error(&apos;Commodity is not currently listed...</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="1752"
            width="256.2" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>listing = possibleListings[0]</title>
            <text x="213" y="1772"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1772">listing = possibleListings[0]</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="1800.5"
            width="248.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>newHolding = [object Object]</title>
            <text x="213" y="1820.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1820.5">newHolding = [object Object]</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="235" y="1849"
            width="123.6" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>getFactory()</title>
            <text x="250" y="1869"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="250" y="1869">getFactory()</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="1897.5"
            width="342" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>newHolding.commodity = listing.commodity</title>
            <text x="213" y="1917.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1917.5">newHolding.commodity = listing.commodity</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="1946"
            width="349.8" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>newHolding.quantity = trade.line.quantity</title>
            <text x="213" y="1966"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="1966">newHolding.quantity = trade.line.quantity</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="1994.5"
            width="381" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>newHolding.purchasePrice = listing.offerPrice</title>
            <text x="213" y="2014.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="2014.5">newHolding.purchasePrice = listing.offerPrice</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="2043"
            width="248.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>newHolding.tradedBy = trader</title>
            <text x="213" y="2063"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="2063">newHolding.tradedBy = trader</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="2091.5"
            width="334.2" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>listing.quantity -= trade.line.quantity</title>
            <text x="213" y="2111.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="2111.5">listing.quantity -= trade.line.quantity</tspan>
            </text>
                   
                   
                </g><g>
            <rect x="228" y="2155"
            width="473.4" height="30"
            rx="3" ry="3"
            style="fill:#ce93d8; stroke:#444; stroke-width:1" />                
            <polygon points="198,2170 228,2140 258,2170 228,2200"
            style="fill:#ce93d8; stroke:#444; stroke-width:1" />
            <title>(listing.offerPrice * trade.line.quantity &gt; trader.fundLimit)</title>
            <text x="273" y="2175"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="273" y="2175">(listing.offerPrice * trade.line.quantity &gt; trader...</tspan>
            </text>
            
            <text x="220.2" y="2175"
        font-family="monospace" font-size="13" fill="#222">if</text> <text x="235.8" y="2201.95"
        font-family="monospace" font-size="13" fill="#222">+</text> 
        </g>
                <g>
                   <rect x="248" y="2210"
            width="357.59999999999997" height="30"
            rx="2" ry="2"
            style="fill:#ef9a9a; stroke:#444; stroke-width:1" />
                   <title>throw new Error(&apos;You can not afford that&apos;)</title>
            <text x="263" y="2230"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="263" y="2230">throw new Error(&apos;You can not afford that&apos;)</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="2260"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                   <title>trader.fundLimit -= listing.offerPrice * trade.line.quantity</title>
            <text x="213" y="2280"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="2280">trader.fundLimit -= listing.offerPrice * trade.lin...</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="198" y="2308.5"
            width="295.2" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>brokage.portfolio.push(newHolding)</title>
            <text x="213" y="2328.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="2328.5">brokage.portfolio.push(newHolding)</tspan>
            </text>
                   
                   
                </g>
                <g>
                   <rect x="124" y="2357"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="2377"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="2377">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="2381" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="2405.5"
            width="128" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="2405.5" x2="171" y2="2435.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="279" y1="2405.5" x2="279" y2="2435.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function()</title>
            <text x="186" y="2425.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="2425.5">function()</tspan>
            </text>
                
            </g>
            <g>
                <rect x="198" y="2454"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="2464" x2="646.4" y2="2464"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="2474" x2="646.4" y2="2474"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M646.4, 2458 L662.4, 2469 L646.4, 2480 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return regisitries[&apos;ampretia.mtn.CommodityHolding&apos;].add(newHolding)</title>
            <text x="213" y="2474"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="2474">return regisitries[&apos;ampretia.mtn.CommodityHolding&apos;...</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="124" y="2502.5"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="2522.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="2522.5">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="2526.5" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="2551"
            width="128" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="2551" x2="171" y2="2581"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="279" y1="2551" x2="279" y2="2581"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function()</title>
            <text x="186" y="2571"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="2571">function()</tspan>
            </text>
                
            </g>
            <g>
                <rect x="198" y="2599.5"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="2609.5" x2="646.4" y2="2609.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="2619.5" x2="646.4" y2="2619.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M646.4, 2603.5 L662.4, 2614.5 L646.4, 2625.5 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return regisitries[&apos;ampretia.mtn.CommodityListing&apos;].update(listing)</title>
            <text x="213" y="2619.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="2619.5">return regisitries[&apos;ampretia.mtn.CommodityListing&apos;...</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="124" y="2648"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="2668"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="2668">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="2672" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="2696.5"
            width="128" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="2696.5" x2="171" y2="2726.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="279" y1="2696.5" x2="279" y2="2726.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function()</title>
            <text x="186" y="2716.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="2716.5">function()</tspan>
            </text>
                
            </g>
            <g>
                <rect x="198" y="2745"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="2755" x2="646.4" y2="2755"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="2765" x2="646.4" y2="2765"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M646.4, 2749 L662.4, 2760 L646.4, 2771 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return regisitries[&apos;ampretia.mtn.Brokage&apos;].update(brokage)</title>
            <text x="213" y="2765"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="2765">return regisitries[&apos;ampretia.mtn.Brokage&apos;].update(...</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="124" y="2793.5"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="2813.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="2813.5">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="2817.5" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="2842"
            width="128" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="2842" x2="171" y2="2872"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="279" y1="2842" x2="279" y2="2872"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function()</title>
            <text x="186" y="2862"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="2862">function()</tspan>
            </text>
                
            </g>
            <g>
                <rect x="198" y="2890.5"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="2900.5" x2="646.4" y2="2900.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="2910.5" x2="646.4" y2="2910.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M646.4, 2894.5 L662.4, 2905.5 L646.4, 2916.5 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return regisitries[&apos;ampretia.mtn.Exchange&apos;].update(exchange)</title>
            <text x="213" y="2910.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="2910.5">return regisitries[&apos;ampretia.mtn.Exchange&apos;].update...</tspan>
            </text>
                
            </g>
                <g>
                   <rect x="124" y="2939"
            width="108" height="30"
            rx="2" ry="2"
            style="fill:#C5E1A5; stroke:#444; stroke-width:1" />
                   <title>.then(*())</title>
            <text x="139" y="2959"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="139" y="2959">.then(*())</tspan>
            </text>
                   <circle cx="130" cy="2963" r="4"
        style="fill:#ede7f6; stroke:#444; stroke-width:1" />
                   
                </g>
            <g>
                <rect x="161" y="2987.5"
            width="128" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="171" y1="2987.5" x2="171" y2="3017.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="279" y1="2987.5" x2="279" y2="3017.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function()</title>
            <text x="186" y="3007.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="186" y="3007.5">function()</tspan>
            </text>
                
            </g>
            <g>
                <rect x="198" y="3036"
            width="443.4" height="30"
            rx="3" ry="3"
            style="fill:#90caf9; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="3046" x2="646.4" y2="3046"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                
                <line x1="641.4" y1="3056" x2="646.4" y2="3056"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />

                <path d="M646.4, 3040 L662.4, 3051 L646.4, 3062 Z" 
        fill="#a5d6a7" stroke="#444" stroke-width="1" />
                             
                <title>return regisitries[&apos;ampretia.mtn.Trader&apos;].update(trader)</title>
            <text x="213" y="3056"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="213" y="3056">return regisitries[&apos;ampretia.mtn.Trader&apos;].update(t...</tspan>
            </text>
                
            </g>
            <g>
                <rect x="124" y="3084.5"
            width="128" height="30"
            style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                    
                <line x1="134" y1="3084.5" x2="134" y2="3114.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
                <line x1="242" y1="3084.5" x2="242" y2="3114.5"
                style="fill:#a5d6a7; stroke:#444; stroke-width:1" />
             
                <title>function()</title>
            <text x="149" y="3104.5"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="149" y="3104.5">function()</tspan>
            </text>
                
            </g>
            <g>
               <rect x="25" y="13.75"
            width="216.6" height="24"
            style="fill:#fff59d; stroke:#444; stroke-width:1" />
               <circle cx="25" cy="25" r="15"
        style="fill:#fff59d; stroke:#444; stroke-width:1" />
               <title>Program: source module</title>
            <text x="55" y="30"
                font-family="monospace" font-size="13" fill="#222">
                <tspan x="55" y="30">Program: source module</tspan>
            </text>
            </g>
            <g>
               <path d="M25, 40 L25 91 Q25 95
                29 95
                L42 95 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M42, 92 L50, 95 L42, 98 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M68.5, 110 L68.5 139.5 Q68.5 143.5
                72.5 143.5
                L79 143.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M79, 140.5 L87, 143.5 L79, 146.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M68.5, 110 L68.5 188 Q68.5 192
                72.5 192
                L79 192 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M79, 189 L87, 192 L79, 195 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M68.5, 110 L68.5 236.5 Q68.5 240.5
                72.5 240.5
                L79 240.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M79, 237.5 L87, 240.5 L79, 243.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M68.5, 110 L68.5 285 Q68.5 289
                72.5 289
                L79 289 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M79, 286 L87, 289 L79, 292 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M68.5, 110 L68.5 333.5 Q68.5 337.5
                72.5 337.5
                L79 337.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M79, 334.5 L87, 337.5 L79, 340.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M68.5, 110 L68.5 382 Q68.5 386
                72.5 386
                L79 386 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M79, 383 L87, 386 L79, 389 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M68.5, 110 L68.5 430.5 Q68.5 434.5
                72.5 434.5
                L79 434.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M79, 431.5 L87, 434.5 L79, 437.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M68.5, 110 L68.5 479 Q68.5 483
                72.5 483
                L79 483 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M79, 480 L87, 483 L79, 486 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 527.5 Q105.5 531.5
                109.5 531.5
                L116 531.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 528.5 L124, 531.5 L116, 534.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 576 Q105.5 580
                109.5 580
                L116 580 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 577 L124, 580 L116, 583 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 595 L142.5 624.5 Q142.5 628.5
                146.5 628.5
                L161 628.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 643.5 L179.5 673 Q179.5 677
                183.5 677
                L190 677 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 674 L198, 677 L190, 680 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 643.5 L179.5 721.5 Q179.5 725.5
                183.5 725.5
                L190 725.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 722.5 L198, 725.5 L190, 728.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 770 Q105.5 774
                109.5 774
                L116 774 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 771 L124, 774 L116, 777 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 789 L142.5 818.5 Q142.5 822.5
                146.5 822.5
                L161 822.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 837.5 L179.5 867 Q179.5 871
                183.5 871
                L190 871 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 868 L198, 871 L190, 874 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 837.5 L179.5 915.5 Q179.5 919.5
                183.5 919.5
                L190 919.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 916.5 L198, 919.5 L190, 922.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 964 Q105.5 968
                109.5 968
                L116 968 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 965 L124, 968 L116, 971 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 983 L142.5 1012.5 Q142.5 1016.5
                146.5 1016.5
                L161 1016.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 1031.5 L179.5 1061 Q179.5 1065
                183.5 1065
                L190 1065 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1062 L198, 1065 L190, 1068 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1031.5 L179.5 1109.5 Q179.5 1113.5
                183.5 1113.5
                L190 1113.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1110.5 L198, 1113.5 L190, 1116.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 1158 Q105.5 1162
                109.5 1162
                L116 1162 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 1159 L124, 1162 L116, 1165 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 1177 L142.5 1206.5 Q142.5 1210.5
                146.5 1210.5
                L161 1210.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 1225.5 L179.5 1255 Q179.5 1259
                183.5 1259
                L190 1259 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1256 L198, 1259 L190, 1262 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1225.5 L179.5 1303.5 Q179.5 1307.5
                183.5 1307.5
                L190 1307.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1304.5 L198, 1307.5 L190, 1310.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 1352 Q105.5 1356
                109.5 1356
                L116 1356 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 1353 L124, 1356 L116, 1359 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 1371 L142.5 1400.5 Q142.5 1404.5
                146.5 1404.5
                L161 1404.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 1449 Q179.5 1453
                183.5 1453
                L190 1453 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1450 L198, 1453 L190, 1456 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 1497.5 Q179.5 1501.5
                183.5 1501.5
                L190 1501.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1498.5 L198, 1501.5 L190, 1504.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M216.5, 1516.5 L216.5 1546 Q216.5 1550
                220.5 1550
                L235 1550 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M253.5, 1565 L253.5 1594.5 Q253.5 1598.5
                257.5 1598.5
                L264 1598.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M264, 1595.5 L272, 1598.5 L264, 1601.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 1658 Q179.5 1662
                183.5 1662
                L190 1662 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1659 L198, 1662 L190, 1665 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M228, 1692 L228 1713 Q228 1717
                232 1717
                L240 1717 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M240, 1714 L248, 1717 L240, 1720 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 1763 Q179.5 1767
                183.5 1767
                L190 1767 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1764 L198, 1767 L190, 1770 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 1811.5 Q179.5 1815.5
                183.5 1815.5
                L190 1815.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1812.5 L198, 1815.5 L190, 1818.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M216.5, 1830.5 L216.5 1860 Q216.5 1864
                220.5 1864
                L227 1864 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M227, 1861 L235, 1864 L227, 1867 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 1908.5 Q179.5 1912.5
                183.5 1912.5
                L190 1912.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1909.5 L198, 1912.5 L190, 1915.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 1957 Q179.5 1961
                183.5 1961
                L190 1961 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 1958 L198, 1961 L190, 1964 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 2005.5 Q179.5 2009.5
                183.5 2009.5
                L190 2009.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2006.5 L198, 2009.5 L190, 2012.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 2054 Q179.5 2058
                183.5 2058
                L190 2058 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2055 L198, 2058 L190, 2061 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 2102.5 Q179.5 2106.5
                183.5 2106.5
                L190 2106.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2103.5 L198, 2106.5 L190, 2109.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 2166 Q179.5 2170
                183.5 2170
                L190 2170 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2167 L198, 2170 L190, 2173 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M228, 2200 L228 2221 Q228 2225
                232 2225
                L240 2225 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M240, 2222 L248, 2225 L240, 2228 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 2271 Q179.5 2275
                183.5 2275
                L190 2275 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2272 L198, 2275 L190, 2278 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M179.5, 1419.5 L179.5 2319.5 Q179.5 2323.5
                183.5 2323.5
                L190 2323.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2320.5 L198, 2323.5 L190, 2326.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 2368 Q105.5 2372
                109.5 2372
                L116 2372 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 2369 L124, 2372 L116, 2375 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 2387 L142.5 2416.5 Q142.5 2420.5
                146.5 2420.5
                L161 2420.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 2435.5 L179.5 2465 Q179.5 2469
                183.5 2469
                L190 2469 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2466 L198, 2469 L190, 2472 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 2513.5 Q105.5 2517.5
                109.5 2517.5
                L116 2517.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 2514.5 L124, 2517.5 L116, 2520.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 2532.5 L142.5 2562 Q142.5 2566
                146.5 2566
                L161 2566 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 2581 L179.5 2610.5 Q179.5 2614.5
                183.5 2614.5
                L190 2614.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2611.5 L198, 2614.5 L190, 2617.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 2659 Q105.5 2663
                109.5 2663
                L116 2663 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 2660 L124, 2663 L116, 2666 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 2678 L142.5 2707.5 Q142.5 2711.5
                146.5 2711.5
                L161 2711.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 2726.5 L179.5 2756 Q179.5 2760
                183.5 2760
                L190 2760 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2757 L198, 2760 L190, 2763 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 2804.5 Q105.5 2808.5
                109.5 2808.5
                L116 2808.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 2805.5 L124, 2808.5 L116, 2811.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 2823.5 L142.5 2853 Q142.5 2857
                146.5 2857
                L161 2857 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 2872 L179.5 2901.5 Q179.5 2905.5
                183.5 2905.5
                L190 2905.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 2902.5 L198, 2905.5 L190, 2908.5 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 2950 Q105.5 2954
                109.5 2954
                L116 2954 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 2951 L124, 2954 L116, 2957 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M142.5, 2969 L142.5 2998.5 Q142.5 3002.5
                146.5 3002.5
                L161 3002.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               false
            </g>
            <g>
               <path d="M179.5, 3017.5 L179.5 3047 Q179.5 3051
                183.5 3051
                L190 3051 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M190, 3048 L198, 3051 L190, 3054 Z" 
        fill="#333" />
            </g>
            <g>
               <path d="M105.5, 498 L105.5 3095.5 Q105.5 3099.5
                109.5 3099.5
                L116 3099.5 "
        style="fill:none; stroke:#444; stroke-width:1" />
               <path d="M116, 3096.5 L124, 3099.5 L116, 3102.5 Z" 
        fill="#333" />
            </g>
            </svg>